<div class="container">
  <div>
    <p-table [value]="(data$ | async) ?? []" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="name">
            Name<p-sortIcon field="name"></p-sortIcon>
          </th>
          <th>Image</th>
          <th pSortableColumn="price">
            Price<p-sortIcon field="price"></p-sortIcon>
          </th>
          <th pSortableColumn="category">
            Category<p-sortIcon field="category"></p-sortIcon>
          </th>
          <th>Info</th>
        </tr>
        <tr>
          <th class="item-cell">
            <p-columnFilter type="text" field="name"></p-columnFilter>
          </th>
          <th class="item-cell"></th>
          <th class="item-cell">
            <p-columnFilter type="text" field="price"></p-columnFilter>
          </th>
          <th class="item-cell">
            <p-columnFilter
              field="category"
              matchMode="equals"
              [showMenu]="false"
            >
              <ng-template
                pTemplate="filter"
                let-value
                let-filter="filterCallback"
              >
                <p-dropdown
                  [options]="categories"
                  (onChange)="filter($event.value)"
                  placeholder="Any"
                  [showClear]="true"
                >
                  <ng-template let-option pTemplate="item">
                    <span [class]="'customer-badge status-' + option.value">{{
                      option.label
                    }}</span>
                  </ng-template>
                </p-dropdown>
              </ng-template>
            </p-columnFilter>
          </th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        <tr>
          <td>{{ item.name }}</td>
          <td class="item-cell">
            <p-image
              class="image"
              src="{{ item.image | async }}"
              [alt]="item.name"
              width="150"
              [preview]="true"
            ></p-image>
          </td>
          <td>{{ item.price + " kn" }}</td>
          <td>{{ item.category }}</td>
          <td>{{ item.info }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
